    # Etapa 1: Compilaci칩n del binario
    FROM golang:1.23-alpine AS builder

    # 游댳 Configura el directorio de trabajo a /api (como pediste)
    WORKDIR /api

    # 游댳 Copia go.mod y go.sum desde la ra칤z del contexto
    COPY go.mod go.sum ./
    RUN go mod download

    # 游댳 Copia el c칩digo fuente y est치ticos desde la ra칤z del contexto
    COPY main.go .
    COPY index.html .
    COPY static ./static
    COPY db ./db

    # Compila el binario
    RUN go build -o carrito .

    # Etapa 2: Imagen final (m치s liviana)
    FROM alpine:latest
    RUN apk --no-cache add ca-certificates

    # 游댳 Crea el directorio /api
    WORKDIR /api

    # 游댳 Copia los archivos compilados desde la etapa anterior
    COPY --from=builder /api/carrito .
    COPY --from=builder /api/index.html .
    COPY --from=builder /api/static ./static

    # Expone el puerto 8080
    EXPOSE 8080

    # Comando por defecto
    CMD ["./carrito"]